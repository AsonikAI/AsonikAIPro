<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebOS — Ваш Браузерный Рабочий Стол</title>
    <!-- Подключение Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Конфигурация Tailwind для использования шрифта Inter и кастомного стиля -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#1a1a2e',
                        'secondary-dark': '#16213e',
                        'accent-blue': '#0f3460',
                        'text-light': '#e9e9f1',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Стилизация для имитации рабочего стола */
        body {
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Предотвращаем прокрутку основного экрана */
            background-color: #0f172a; /* Темный фон для "рабочего стола" */
            font-family: 'Inter', sans-serif;
        }

        /* Адаптивное центрирование для иконок рабочего стола */
        #desktop {
            height: 100%;
            padding-top: 56px; /* Отступ для верхней панели */
        }
    </style>
</head>
<body>

    <!-- Имитация верхней панели / Панели задач -->
    <header id="taskbar" class="fixed top-0 left-0 w-full h-14 bg-gray-900 bg-opacity-80 backdrop-blur-md z-50 shadow-lg flex items-center justify-between px-4">
        <!-- Левая часть: Название ОС / Информация -->
        <div class="text-text-light text-lg font-semibold tracking-wide">
            WebOS
        </div>

        <!-- Центральная часть: Часы (Placeholder) -->
        <div id="clock" class="text-text-light text-sm font-medium hidden sm:block">
            <!-- Время будет обновляться JS -->
        </div>

        <!-- Правая часть: Кнопки "Пуск" и "Поиск" -->
        <div class="flex items-center space-x-2">

            <!-- Кнопка Поиск (Лупа) -->
            <button id="search-button" onclick="toggleSearch()" class="p-2 rounded-lg hover:bg-accent-blue/50 transition duration-150 group">
                <!-- Lucide Icon: Search (Поиск) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-text-light group-hover:text-white">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>

            <!-- Кнопка Пуск (Меню) -->
            <button id="start-button" onclick="toggleStartMenu()" class="p-2 rounded-lg bg-accent-blue hover:bg-accent-blue/70 transition duration-150 shadow-md group">
                <!-- Lucide Icon: Menu (Меню) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-white group-hover:rotate-12 transition duration-300">
                    <line x1="4" y1="12" x2="20" y2="12"></line>
                    <line x1="4" y1="6" x2="20" y2="6"></line>
                    <line x1="4" y1="18" x2="20" y2="18"></line>
                </svg>
            </button>
        </div>
    </header>

    <!-- Основное пространство рабочего стола -->
    <main id="desktop" class="w-full h-full relative p-4">
        <h1 class="text-4xl font-bold text-text-light/50 pt-16 text-center">Рабочий стол</h1>
        <p class="text-text-light/30 text-center mt-2">Нажмите на иконки справа вверху, чтобы открыть меню.</p>

        <!-- 1. ПАНЕЛЬ "ПУСК" (Меню) -->
        <div id="start-menu" class="hidden absolute top-14 right-4 w-64 max-h-[80vh] bg-gray-800 bg-opacity-95 backdrop-blur-lg border border-gray-700 rounded-lg shadow-2xl p-4 overflow-y-auto z-40 origin-top-right transition-all duration-300 transform scale-95 opacity-0">
            <div class="text-lg font-bold text-white mb-3 border-b border-gray-700 pb-2">
                Меню Пуск
            </div>
            <ul class="space-y-2">
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">Проводник</li>
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">Настройки</li>
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">Браузер (Web)</li>
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">Калькулятор</li>
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">Медиаплеер</li>
                <li class="p-2 rounded-md text-text-light hover:bg-primary-dark cursor-pointer transition duration-100">О системе</li>
            </ul>
            <div class="mt-4 pt-3 border-t border-gray-700">
                <button class="w-full text-left p-2 rounded-md text-red-400 hover:bg-red-900/50 transition duration-100 flex items-center space-x-2">
                    <!-- Lucide Icon: Log Out -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                    <span>Выход</span>
                </button>
            </div>
        </div>

        <!-- 2. ПАНЕЛЬ "ПОИСК" (Поиск) -->
        <div id="search-panel" class="hidden absolute top-14 right-4 w-80 max-h-96 bg-gray-800 bg-opacity-95 backdrop-blur-lg border border-gray-700 rounded-lg shadow-2xl p-4 z-40 origin-top-right transition-all duration-300 transform scale-95 opacity-0">
            <div class="text-lg font-bold text-white mb-3">
                Поиск по системе
            </div>
            <input type="text" placeholder="Введите запрос..." class="w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-text-light focus:outline-none focus:border-accent-blue transition duration-150">

            <div class="mt-4 space-y-2">
                <p class="text-sm text-gray-400">Популярные запросы:</p>
                <div class="flex flex-wrap gap-2">
                    <span class="text-xs text-text-light bg-primary-dark px-3 py-1 rounded-full cursor-pointer hover:bg-accent-blue transition duration-100">Файлы</span>
                    <span class="text-xs text-text-light bg-primary-dark px-3 py-1 rounded-full cursor-pointer hover:bg-accent-blue transition duration-100">Помощь</span>
                    <span class="text-xs text-text-light bg-primary-dark px-3 py-1 rounded-full cursor-pointer hover:bg-accent-blue transition duration-100">Настройки</span>
                </div>
            </div>
        </div>
    </main>


    <script>
        let isStartMenuOpen = false;
        let isSearchOpen = false;
        const startMenu = document.getElementById('start-menu');
        const searchPanel = document.getElementById('search-panel');
        const clockElement = document.getElementById('clock');

        // Функция для обновления часов
        function updateClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
            const dateString = now.toLocaleDateString('ru-RU', { day: '2-digit', month: 'short' });
            clockElement.textContent = `${timeString} | ${dateString}`;
        }
        
        // Запускаем часы и обновляем каждую секунду
        setInterval(updateClock, 1000);
        updateClock(); // Первоначальный запуск


        // Функция для открытия/закрытия Меню Пуск
        function toggleStartMenu() {
            // Если открыт Поиск, сначала закрываем его
            if (isSearchOpen) {
                closeSearch();
            }

            isStartMenuOpen = !isStartMenuOpen;
            
            if (isStartMenuOpen) {
                startMenu.classList.remove('hidden', 'scale-95', 'opacity-0');
                startMenu.classList.add('scale-100', 'opacity-100');
            } else {
                startMenu.classList.add('scale-95', 'opacity-0');
                // Добавляем 'hidden' после завершения анимации
                setTimeout(() => {
                    if (!isStartMenuOpen) {
                        startMenu.classList.add('hidden');
                    }
                }, 300); 
            }
        }

        // Функция для открытия/закрытия Поиска
        function toggleSearch() {
            // Если открыто Меню Пуск, сначала закрываем его
            if (isStartMenuOpen) {
                closeStartMenu();
            }

            isSearchOpen = !isSearchOpen;
            
            if (isSearchOpen) {
                searchPanel.classList.remove('hidden', 'scale-95', 'opacity-0');
                searchPanel.classList.add('scale-100', 'opacity-100');
            } else {
                searchPanel.classList.add('scale-95', 'opacity-0');
                 // Добавляем 'hidden' после завершения анимации
                setTimeout(() => {
                    if (!isSearchOpen) {
                        searchPanel.classList.add('hidden');
                    }
                }, 300); 
            }
        }

        // Вспомогательные функции для закрытия
        function closeStartMenu() {
            isStartMenuOpen = false;
            startMenu.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                startMenu.classList.add('hidden');
            }, 300);
        }

        function closeSearch() {
            isSearchOpen = false;
            searchPanel.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                searchPanel.classList.add('hidden');
            }, 300);
        }

        // Закрытие панелей при клике вне их области
        document.addEventListener('click', function(event) {
            const taskbar = document.getElementById('taskbar');
            const startButton = document.getElementById('start-button');
            const searchButton = document.getElementById('search-button');
            
            // Проверяем, был ли клик вне панели задач и кнопок управления
            const clickedInsideTaskbar = taskbar.contains(event.target);
            const clickedStartButton = startButton.contains(event.target);
            const clickedSearchButton = searchButton.contains(event.target);

            // Если клик был не по кнопкам и не внутри панелей, закрываем их
            if (!clickedStartButton && !clickedSearchButton) {
                 if (isStartMenuOpen && !startMenu.contains(event.target)) {
                    closeStartMenu();
                }
                if (isSearchOpen && !searchPanel.contains(event.target)) {
                    closeSearch();
                }
            }
        });

    </script>
</body>
</html>

